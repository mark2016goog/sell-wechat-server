webpackJsonp([0],[,function(t,s,e){"use strict";var a=e(6),i=e(125),n=e(19),o=e.n(n),r=e(55),c=e.n(r),l=e(56),d=e.n(l),u=e(57),_=e.n(u),v=e(64),p=e.n(v),f=e(27),m=e.n(f),h=e(66),g=e.n(h),C=e(65),b=e.n(C),x=e(70),w=e.n(x),y=e(69),k=e.n(y),$=e(68),S=e.n($),P=e(71),F=e.n(P),E=e(58),M=e.n(E),j=e(62),O=e.n(j),R=e(54),N=e.n(R),I=e(60),z=e.n(I),B=e(61),D=e.n(B);a.a.use(i.a),s.a=new i.a({routes:[{path:"/",redirect:"/index"},{path:"/index",component:c.a},{path:"/order",component:d.a},{path:"/personcenter",component:_.a},{path:"/shoppage/:id",component:p.a,children:[{path:"evaluate",component:b.a},{path:"goods/",component:m.a},{path:"seller",component:g.a}]},{path:"/user",component:o.a,children:[{path:"loginphonenumber",component:w.a},{path:"loginpassword",component:k.a},{path:"accountsetting",component:S.a},{path:"setpassword",component:F.a}]},{path:"/comfirmorder/:id",component:M.a},{path:"/sendaddress",component:O.a},{path:"/addaddress",component:N.a},{path:"/payonline/:id",component:z.a},{path:"/search",component:D.a}]})},,,function(t,s,e){e(114);var a=e(0)(e(178),e(88),"data-v-a46655ea",null);t.exports=a.exports},,,function(t,s,e){e(122);var a=e(0)(e(176),e(96),null,null);t.exports=a.exports},,,,,,,,function(t,s,e){e(100);var a=e(0)(e(177),e(74),null,null);t.exports=a.exports},,,,function(t,s,e){e(108);var a=e(0)(e(164),e(82),null,null);t.exports=a.exports},,,,,,function(t,s,e){e(106);var a=e(0)(e(170),e(80),"data-v-60932166",null);t.exports=a.exports},function(t,s,e){e(119);var a=e(0)(e(180),e(93),null,null);t.exports=a.exports},function(t,s,e){e(113);var a=e(0)(e(182),e(87),null,null);t.exports=a.exports},,,,,,,,function(t,s,e){"use strict";var a=e(159),i=e.n(a),n=e(6),o=e(123),r=e(2),c=e.n(r);n.a.use(o.a);var l=new o.a.Store({state:{restaurant:[],params:{has_data:!0},restaurant_id:""},mutations:{setRestaurant:function(t,s){t.restaurant=t.restaurant.concat(s)},setParams:function(t,s){t.params=i()(t.params,s)},setParamsHasData:function(t,s){t.params.has_data=s},setId:function(t,s){t.restaurant_id=s}},getters:{getRestaurantById:function(t){for(var s=0;s<t.restaurant.length;s++)if(t.restaurant_id==parseInt(t.restaurant[s].id))return t.restaurant[s]}},actions:{getRestaurant:function(t){var s=t.commit,e=t.state;c.a.get("static/restaurant.json",{params:{longitude:e.params.longitude,latitude:e.params.latitude,offset:e.params.offset,limit:e.params.limit}}).then(function(t){t.data<10?s("setParamsHasData",!1):s("setRestaurant",t.data)}).catch(function(t){console.log(t)})}}});s.a=l},,,,,,,,,,,,,,,,,,,function(t,s,e){e(99);var a=e(0)(e(165),e(73),null,null);t.exports=a.exports},function(t,s,e){e(121);var a=e(0)(e(166),e(95),"data-v-f75efd3c",null);t.exports=a.exports},function(t,s,e){e(115);var a=e(0)(e(167),e(89),"data-v-c5c97c44",null);t.exports=a.exports},function(t,s,e){e(120);var a=e(0)(e(168),e(94),"data-v-f58e48ec",null);t.exports=a.exports},function(t,s,e){e(110);var a=e(0)(e(169),e(84),null,null);t.exports=a.exports},function(t,s,e){e(109);var a=e(0)(e(171),e(83),"data-v-717da8b8",null);t.exports=a.exports},function(t,s,e){e(105);var a=e(0)(e(172),e(79),null,null);t.exports=a.exports},function(t,s,e){e(118);var a=e(0)(e(173),e(92),"data-v-d116d9ba",null);t.exports=a.exports},function(t,s,e){e(101);var a=e(0)(e(174),e(75),"data-v-32002701",null);t.exports=a.exports},function(t,s,e){e(111);var a=e(0)(e(175),e(85),null,null);t.exports=a.exports},function(t,s,e){e(104);var a=e(0)(e(179),e(78),null,null);t.exports=a.exports},function(t,s,e){e(98);var a=e(0)(e(181),e(72),null,null);t.exports=a.exports},function(t,s,e){e(117);var a=e(0)(e(183),e(91),null,null);t.exports=a.exports},function(t,s,e){e(116);var a=e(0)(e(184),e(90),null,null);t.exports=a.exports},function(t,s,e){e(107);var a=e(0)(e(185),e(81),"data-v-613a8096",null);t.exports=a.exports},function(t,s,e){e(112);var a=e(0)(e(186),e(86),null,null);t.exports=a.exports},function(t,s,e){e(102);var a=e(0)(e(187),e(76),null,null);t.exports=a.exports},function(t,s,e){e(103);var a=e(0)(e(188),e(77),null,null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"evaluate"},[e("div",{staticClass:"evaluate-content"},[e("div",{staticClass:"top-score"},[e("div",{staticClass:"left-content"},[e("span",{staticClass:"score"},[t._v("3.9")]),t._v(" "),e("span",{staticClass:"total-evaluate"},[t._v("综合评价")]),t._v(" "),e("span",{staticClass:"high-rate"},[t._v("高于周边商家"+t._s((100*Number.parseFloat(t.top_score.compare_rating)).toFixed(1))+"%")])]),t._v(" "),e("div",{staticClass:"right-content"},[e("div",{staticClass:"service"},[e("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),e("v-star",{attrs:{score:Number.parseFloat(t.top_score.service_score).toFixed(1),size:36}}),e("span",{staticClass:"score"},[t._v(t._s(Number.parseFloat(t.top_score.service_score).toFixed(1)))])],1),t._v(" "),e("div",{staticClass:"goods-evaluate"},[e("span",{staticClass:"title"},[t._v("菜品评价")]),t._v(" "),e("v-star",{attrs:{score:Number.parseFloat(t.top_score.food_score).toFixed(1),size:36}}),e("span",{staticClass:"score",domProps:{textContent:t._s(Number.parseFloat(t.top_score.food_score).toFixed(1))}})],1),t._v(" "),e("div",{staticClass:"send-time"},[e("span",{staticClass:"title"},[t._v("送达时间")]),e("span",{staticClass:"time"},[t._v(t._s(t.top_score.deliver_time)+"分钟")])])])]),t._v(" "),e("div",{staticClass:"evaluate-bottom"},[e("div",{staticClass:"evaluate-bottom-label"},[e("span",{staticClass:"label-item all"},[t._v("全部"),e("span",{staticClass:"number"},[t._v(t._s(t.rating_label.total))])]),t._v(" "),e("span",{staticClass:"label-item satisfaction"},[t._v("满意"),e("span",{staticClass:"number"},[t._v(t._s(t.rating_label.safe))])]),t._v(" "),e("span",{staticClass:"label-item dissatisfaction"},[t._v("不满意"),e("span",{staticClass:"number"},[t._v(t._s(t.rating_label.unsafe))])])]),t._v(" "),e("div",{staticClass:"evaluate-bottom-content"},t._l(t.rating,function(t,s){return e("v-evaluateitem",{key:s,attrs:{evaluate:t}})}))])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"addaddress"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"addaddress-content"},[e("div",{staticClass:"input-box"},[e("div",{staticClass:"title"},[t._v("联系人")]),t._v(" "),e("div",{staticClass:"left-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.name,expression:"address.name"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.address.name},on:{input:function(s){s.target.composing||(t.address.name=s.target.value)}}}),t._v(" "),e("label",{class:{active:"先生"==t.address.sex},attrs:{for:"man"}},[t._v("先生")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.sex,expression:"address.sex"}],attrs:{type:"radio",id:"man",value:"先生"},domProps:{checked:t._q(t.address.sex,"先生")},on:{__c:function(s){t.address.sex="先生"}}}),t._v(" "),e("label",{class:{active:"女士"==t.address.sex},attrs:{for:"woman"}},[t._v("女士")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.sex,expression:"address.sex"}],attrs:{type:"radio",id:"woman",value:"女士"},domProps:{checked:t._q(t.address.sex,"女士")},on:{__c:function(s){t.address.sex="女士"}}})])]),t._v(" "),e("div",{staticClass:"input-box"},[e("div",{staticClass:"title"},[t._v("收货人电话")]),t._v(" "),e("div",{staticClass:"left-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.phonenumber,expression:"address.phonenumber"}],staticStyle:{border:"none"},attrs:{type:"text",placeholder:"收货人电话"},domProps:{value:t.address.phonenumber},on:{input:function(s){s.target.composing||(t.address.phonenumber=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"input-box"},[e("div",{staticClass:"title"},[t._v("地址")]),t._v(" "),e("div",{staticClass:"left-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.address,expression:"address.address"}],attrs:{type:"text",placeholder:"小区/写字楼/学校等"},domProps:{value:t.address.address},on:{input:function(s){s.target.composing||(t.address.address=s.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.detail_address,expression:"address.detail_address"}],staticStyle:{border:"none"},attrs:{type:"text",placeholder:"详细地址"},domProps:{value:t.address.detail_address},on:{input:function(s){s.target.composing||(t.address.detail_address=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"input-box"},[e("div",{staticClass:"title"},[t._v("门牌号")]),t._v(" "),e("div",{staticClass:"left-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.door_number,expression:"address.door_number"}],staticStyle:{border:"none"},attrs:{type:"text",placeholder:"例：5号楼203室"},domProps:{value:t.address.door_number},on:{input:function(s){s.target.composing||(t.address.door_number=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"input-box"},[e("div",{staticClass:"title"},[t._v("标签")]),t._v(" "),e("div",{staticClass:"left-content"},[e("label",{class:{active:"家"==t.address.label},attrs:{for:"home"}},[t._v("家")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.label,expression:"address.label"}],attrs:{type:"radio",id:"home",value:"家"},domProps:{checked:t._q(t.address.label,"家")},on:{__c:function(s){t.address.label="家"}}}),t._v(" "),e("label",{class:{active:"公司"==t.address.label},attrs:{for:"company"}},[t._v("公司")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.label,expression:"address.label"}],attrs:{type:"radio",value:"公司",id:"company"},domProps:{checked:t._q(t.address.label,"公司")},on:{__c:function(s){t.address.label="公司"}}}),e("label",{class:{active:"学校"==t.address.label},attrs:{for:"school"}},[t._v("学校")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address.label,expression:"address.label"}],attrs:{type:"radio",value:"学校",id:"school"},domProps:{checked:t._q(t.address.label,"学校")},on:{__c:function(s){t.address.label="学校"}}})])]),t._v(" "),e("div",{staticStyle:{width:"100%",padding:"0 10px","box-sizing":"border-box","margin-top":"10px"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.submitAddress}},[t._v("确定")])])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"index-footer"},[e("div",{staticClass:"footer-tab"},[e("router-link",{staticClass:"footer-tab-item",attrs:{to:"/index"}},[e("i",{staticClass:"iconfont icon-shouye-shouye footer-icon"}),e("span",{staticClass:"footer-tab-item-content"},[t._v("首页")])]),t._v(" "),e("router-link",{staticClass:"footer-tab-item",attrs:{to:"/order"}},[e("i",{staticClass:"iconfont icon-dingdan footer-icon"}),e("span",{staticClass:"footer-tab-item-content"},[t._v("订单")])]),t._v(" "),e("router-link",{staticClass:"footer-tab-item",attrs:{to:"/personcenter"}},[e("i",{staticClass:"iconfont icon-gerenzhongxin footer-icon"}),e("span",{staticClass:"footer-tab-item-content"},[t._v("我的")])])],1)])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sendaddress"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"sendaddress-content"},[t.empty?e("div",{staticClass:"no-address"},[e("div",{staticClass:"text"},[t._v("没有收货地址")]),t._v(" "),e("div",{staticClass:"tip"},[t._v("点击下方按钮新增")])]):e("ul",{staticClass:"address-list"},t._l(t.sendaddress,function(s,a){return e("li",{staticClass:"address-list-item",on:{click:function(e){t.select(s)}}},[e("div",{staticClass:"address-content"},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"sex"},[t._v(t._s(s.sex))]),t._v(" "),e("span",{staticClass:"phonenumber"},[t._v(t._s(s.phonenumber))])]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",{staticClass:"label"},[t._v(t._s(s.label))]),t._v(t._s(s.address)+"-"+t._s(s.detail_address)+"\n          ")]),t._v(" "),e("span",{staticClass:"iconfont icon-bi",on:{click:function(s){s.stopPropagation(),t.modify(a)}}})])])})),t._v(" "),e("div",{staticClass:"bottom-content",on:{click:t.addAddress}},[e("span",{staticClass:"iconfont icon-jia"}),t._v("新增地址\n    ")])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"login-phonenumber"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show,right_text:t.topbar.right_text},on:{back:t.topBack,switchLoginModel:t.goPasswordModel}}),t._v(" "),e("div",{staticClass:"login-content",staticStyle:{"padding-top":"55px"}},[e("div",{staticClass:"mobile-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phonenumber,expression:"phonenumber"}],attrs:{type:"number",placeholder:"手机号"},domProps:{value:t.phonenumber},on:{input:[function(s){s.target.composing||(t.phonenumber=s.target.value)},t.maxLength],blur:function(s){t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"send-code",class:{active:t.code_btn_can_click},on:{click:t.sendCode}},[t._v(t._s(t.code_text))])]),t._v(" "),e("div",{staticClass:"code"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"number",placeholder:"验证码"},domProps:{value:t.code},on:{input:[function(s){s.target.composing||(t.code=s.target.value)},t.codeMaxLength],blur:function(s){t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"tip"},[t._v("\n      温馨提示:未注册小迪外卖账号的手机，登录时将自动注且，代表您已同意"),e("a",{staticClass:"user-service",on:{click:t.userService}},[t._v("《用户服务协议》")])]),t._v(" "),e("div",{staticStyle:{width:"100%",padding:"0 10px","box-sizing":"border-box"}},[e("button",{staticClass:"login-btn",attrs:{type:"button"},on:{click:t.login}},[t._v("登录")])])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"setpassword"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"setpassword-content",staticStyle:{"padding-top":"45px"}},[e("div",{staticClass:"tip"},[t._v("\n      设置登密码后，您可以使用手机号+密码登录，请牢记\n    ")]),t._v(" "),e("div",{staticClass:"password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),e("span",{staticClass:"iconfont icon-yanjing",class:{show:t.is_show_password},on:{click:t.toggleType}})]),t._v(" "),e("div",{staticClass:"tip"},[t._v("\n      密码长度6-20个字符\n    ")]),t._v(" "),e("div",{staticStyle:{width:"100%",padding:"10px","box-sizing":"border-box"}},[e("button",{staticClass:"login-btn",attrs:{type:"button"},on:{click:t.confirm}},[t._v("确定")])])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shoppage"},[e("div",{staticClass:"shoppage-topbanner"},[e("span",{staticClass:"before",style:{backgroundImage:"url("+t.restaurant_info.image_path+")"}}),t._v(" "),e("span",{staticClass:"back-icon iconfont icon-arrow",on:{click:function(s){if(s.target!==s.currentTarget)return null;t.backIconClick(s)}}}),t._v(" "),e("div",{staticClass:"shoppage-topbanner-content"},[e("div",{staticClass:"shoppage-topbanner-info clearfix"},[e("img",{staticClass:"brand-img",attrs:{src:t.restaurant_info.image_path,alt:""}}),t._v(" "),e("div",{staticClass:"brand-text"},[e("div",{staticClass:"shop-name"},[t.restaurant_info.is_brand?e("span",{staticClass:"shop-name-icon"}):t._e(),t._v(t._s(t.restaurant_info.name)+"\n          ")]),t._v(" "),e("p",{staticClass:"shop-send-time"},[t._v("小迪专送 / "+t._s(t.restaurant_info.order_lead_time)+"分钟送达")]),t._v(" "),e("div",{staticClass:"shop-activity"},[e("span",{staticClass:"shop-activity-icon",staticStyle:{color:"#fff","margin-right":"5px","font-size":"10px",padding:"2px","border-radius":"2px"},style:{backgroundColor:"#"+t.restaurant_info.activities[0].icon_color}},[t._v(t._s(t.restaurant_info.activities[0].icon_name))]),t._v(t._s(t.restaurant_info.activities[0].description)+"\n          ")])])]),t._v(" "),e("div",{staticClass:"shoppage-notice",on:{click:t.showDetail}},[e("span",{staticClass:"shop-notice-icon"}),t._v(" "+t._s(t.restaurant_info.promotion_info?t.restaurant_info.promotion_info:"欢迎光临"+t.restaurant_info.name)+"\n        "),e("i",{staticClass:"iconfont icon-arrow"})]),t._v(" "),e("div",{staticClass:"shop-activity-number",on:{click:t.showDetail}},[t._v("\n        "+t._s(t.restaurant_info.activities.length)+"个"),e("i",{staticClass:"iconfont icon-arrow"})])])]),t._v(" "),e("div",{staticClass:"shoppage-tabbar"},[e("router-link",{staticClass:"tab-item",attrs:{to:"/shoppage/"+t.restaurant_info.id+"/goods"}},[t._v("商品")]),t._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/shoppage/"+t.restaurant_info.id+"/evaluate"}},[t._v("评价")]),t._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/shoppage/"+t.restaurant_info.id+"/seller"}},[t._v("商家")])],1),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_detail,expression:"show_detail"}],staticClass:"shoppage-detail"},[e("div",{staticClass:"detail-main clearfix"},[e("div",{staticClass:"detail-content"},[e("div",{staticClass:"shop-name"},[t._v(t._s(t.restaurant_info.name))]),t._v(" "),e("v-star",{attrs:{score:t.restaurant_info.rating,size:48}}),t._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"title-text"},[t._v("优惠信息")]),t._v(" "),e("div",{staticClass:"line"})]),t._v(" "),e("ul",t._l(t.restaurant_info.activities,function(s){return e("li",{staticClass:"activity-item"},[e("span",{staticClass:"icon",staticStyle:{color:"#fff","margin-right":"5px","font-size":"10px",padding:"2px","border-radius":"2px","text-align":"center"},style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(t._s(s.description))])})),t._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"title-text"},[t._v("商家公告")]),t._v(" "),e("div",{staticClass:"line"})]),t._v(" "),e("div",{staticClass:"shop-bulletin"},[e("p",{staticClass:"shop-bulletin-text"},[t._v(t._s(t.restaurant_info.promotion_info?t.restaurant_info.promotion_info:"欢迎光临"+t.restaurant_info.name))])])],1)]),t._v(" "),e("div",{staticClass:"detail-close"},[e("i",{staticClass:"iconfont icon-close",on:{click:t.hideDetail}})])])]),t._v(" "),e("div",{staticClass:"shoppage-tabcontent"},[e("router-view")],1)],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"payonline"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"payonline-content"},[e("div",{staticClass:"pay-time"},[e("p",[t._v("支付剩余时间")]),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t.time))]),t._v(" "),e("div",{staticClass:"pay-detail"},[e("div",{staticClass:"shop-name"},[t._v(t._s(t.restaurant_info.name)+" 外卖订单")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("\n          详情\n        ")]),t._v(" "),e("div",{staticClass:"total-price"},[t._v("\n          "+t._s(t.total_price)+" 元\n        ")])])]),t._v(" "),e("div",{staticClass:"pay-method"},[e("h2",[t._v("选择支付方式")]),t._v(" "),e("div",[e("div",{staticClass:"pay-method-item",on:{click:t.alipay}},[e("div",{staticClass:"icon iconfont icon-z-alipay"}),t._v(" "),e("div",{staticClass:"name"},[t._v("\n            支付宝\n          ")]),t._v(" "),e("div",{staticClass:"radio iconfont icon-radio",class:{active:"zhifubao"==t.method}})]),t._v(" "),t.show_more_method?e("div",{staticClass:"flod-box"},[e("div",{staticClass:"pay-method-item",on:{click:t.weixin}},[e("div",{staticClass:"icon iconfont icon-weixin-pay"}),t._v(" "),e("div",{staticClass:"name"},[t._v("\n              微信支付\n            ")]),t._v(" "),e("div",{staticClass:"radio iconfont icon-radio",class:{active:"weixin"==t.method}})]),t._v(" "),e("div",{staticClass:"pay-method-item",on:{click:t.yinlian}},[e("div",{staticClass:"icon iconfont icon-yinlianzhifu"}),t._v(" "),e("div",{staticClass:"name"},[t._v("\n              银联支付\n            ")]),t._v(" "),e("div",{staticClass:"radio iconfont icon-radio",class:{active:"yinlian"==t.method}})])]):t._e()]),t._v(" "),e("div",{staticClass:"show-more",on:{click:t.showMore}},[t._v("\n        查看其它支付方式"),e("i",{staticClass:"iconfont icon-xiasanjiao"})])])]),t._v(" "),e("div",{staticClass:"bottom-content",on:{click:t.comfirmPay}},[t._v("\n    确认支付\n  ")])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"good-list-item",on:{click:t.routerTo}},[e("div",{staticClass:"good-list-item-left"},[e("img",{staticClass:"goods-pic",attrs:{src:t.restaurant_info.image_path,alt:"商家图片"}}),t._v(" "),t.restaurant_info.is_new?e("span",{staticClass:"new"},[e("i",[t._v("新店")])]):t._e()]),t._v(" "),e("div",{staticClass:"good-list-item-right"},[e("div",{staticClass:"main"},[e("h2",{staticClass:"good-name"},[t.restaurant_info.is_brand?e("span",{staticClass:"brand"},[t._v("品牌")]):t._e(),t._v(t._s(t.restaurant_info.name)),e("span",{staticClass:"distance"},[t._v(t._s(parseInt(t.restaurant_info.distance))+"m")])]),t._v(" "),e("div",{staticClass:"score"},[e("v-star",{attrs:{score:t.restaurant_info.rating,size:24}}),e("span",{staticClass:"sell-number"},[t._v("月售 "+t._s(t.restaurant_info.recent_order_num)+" 单")]),e("span",{staticClass:"send-time"},[t._v(t._s(t.restaurant_info.order_lead_time)+"分钟")])],1),t._v(" "),e("div",{staticClass:"send-detail"},[e("span",{staticClass:"send-price"},[t._v("起送价￥"+t._s(t.restaurant_info.minimum_order_amount))]),e("span",{staticClass:"send-money"},[t._v("配送费￥"+t._s(t.restaurant_info.delivery_fee))])])]),t._v(" "),e("div",{staticClass:"discount",class:{show:t.is_show_activities}},[t.restaurant_info.activities.length>2?e("span",{staticClass:"activities_num",on:{click:function(s){s.stopPropagation(),t.showActivites(s)}}},[t._v(t._s(t.restaurant_info.activities.length)+"个活动"),e("i",{staticClass:"iconfont icon-xiasanjiao"})]):t._e(),t._v(" "),t._l(t.restaurant_info.activities,function(s){return e("p",{staticClass:"discount-item"},[e("span",{staticClass:"activity-icon",staticStyle:{color:"#fff","margin-right":"5px","font-size":"10px",padding:"2px","border-radius":"2px"},style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(t._s(s.description))])})],2)])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"accountsetting"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"account-content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"setpassword"},[e("h2",[t._v("设置密码")]),t._v(" "),e("div",{staticClass:"password"},[e("span",{staticClass:"title"},[t._v("登录密码")]),t._v(" "),e("span",{staticClass:"setting",on:{click:t.setPassword}},[t._v("未设置")])])])])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"person-icon"},[e("span",{staticClass:"title"},[t._v("头像")]),t._v(" "),e("img",{attrs:{src:"/static/images/user-icon.jpg",alt:"头像"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"username"},[e("span",{staticClass:"title"},[t._v("用户名")])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("keep-alive",{attrs:{include:"index"}},[e("router-view")],1)],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticStyle:{background:"#fff"}},[e("div",{staticClass:"order-list-item"},[e("div",{staticClass:"left-content"},[e("img",{staticClass:"shop-icon",attrs:{src:t.order.restaurant_image_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right-content"},[e("div",{staticClass:"top-content"},[e("div",{staticClass:"shop-name"},[t._v("\n          "+t._s(t.order.shop_name)),e("span",{staticClass:"iconfont icon-arrow"}),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t.order.meta.createAt))])]),t._v(" "),e("div",{staticClass:"order-status"},[t._v("\n          "+t._s(t.status_text)+"\n        ")])]),t._v(" "),e("div",{staticClass:"center-content"},[e("ul",{staticClass:"good-list"},t._l(t.order.good_list,function(s){return e("li",{staticClass:"good-list-item"},[e("div",{staticClass:"text"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"price"},[t._v("￥"+t._s((s.count*s.price).toFixed(2)))])])}))])])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"again-order",on:{click:t.againOne}},[t._v("\n          再来一单\n    ")])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"comfirmorder"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"comfirmorder-content"},[e("div",{staticClass:"select-address",on:{click:t.selectAddress}},[e("span",{staticClass:"iconfont icon-dizhi"}),t._v(" "),t.send_address.name?e("div",{staticClass:"address-content"},[e("div",{staticClass:"top"},[e("span",{staticClass:"name"},[t._v(t._s(t.send_address.name))]),t._v(" "),e("span",{staticClass:"sex"},[t._v(t._s(t.send_address.sex))]),t._v(" "),e("span",{staticClass:"phonenumber"},[t._v(t._s(t.send_address.phonenumber))])]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",{staticClass:"label"},[t._v(t._s(t.send_address.label))]),t._v(t._s(t.send_address.address)+"-"+t._s(t.send_address.detail_address)+"\n        ")])]):e("div",{staticClass:"content"},[t._v("请选择一个收货地址")]),t._v(" "),e("span",{staticClass:"iconfont icon-arrow"})]),t._v(" "),e("div",{staticClass:"send-time"},[e("div",{staticClass:"time"},[t._v("\n        送达时间\n      ")]),t._v(" "),e("div",{staticClass:"desciprtion"},[e("div",{staticClass:"top"},[t._v("\n          尽快送达 | 预计 "+t._s(t.time)+"\n        ")]),t._v(" "),e("div",{staticClass:"bottom"},[t._v("\n          小迪专送\n        ")])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"order-detail"},[e("h2",{staticClass:"shop-name"},[e("img",{attrs:{src:t.restaurant_info.image_path,alt:""}}),t._v(t._s(t.restaurant_info.name))]),t._v(" "),e("ul",{staticClass:"order-food-list"},t._l(t.order,function(s){return e("li",{staticClass:"order-food-list-item"},[e("div",{staticClass:"food-name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"food-number"},[t._v("x"+t._s(s.count))]),t._v(" "),e("div",{staticClass:"food-total-price"},[t._v("￥"+t._s(s.price*s.count))])])})),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"send-fee"},[e("div",{staticClass:"text"},[t._v("配送费")]),t._v(" "),e("div",{staticClass:"send-money"},[t._v("\n          ￥"+t._s(t.restaurant_info.delivery_fee)+"\n        ")])])]),t._v(" "),t._m(2)]),t._v(" "),e("div",{staticClass:"bottom-content"},[e("div",{staticClass:"wait-pay-money"},[t._v("\n      待支付￥"+t._s(t.total_price)+"\n    ")]),t._v(" "),e("div",{staticClass:"submit-order",on:{click:t.submitOrder}},[t._v("\n      提交订单\n    ")])])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"pay-method"},[t._v("\n      支付方式\n      "),e("span",{staticClass:"method"},[t._v("在线支付")]),t._v(" "),e("span",{staticClass:"iconfont icon-arrow"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-fee"},[e("div",{staticClass:"text"},[t._v("餐盒")]),t._v(" "),e("div",{staticClass:"box-price"},[t._v("\n          ￥4\n        ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"remark"},[e("div",{staticClass:"item"},[t._v("\n        用餐人数\n        "),e("span",[t._v("便于商家带够餐具"),e("i",{staticClass:"iconfont icon-arrow"})])]),t._v(" "),e("div",{staticClass:"item"},[t._v("\n        订单备注\n        "),e("span",[t._v("口味、偏好等"),e("i",{staticClass:"iconfont icon-arrow"})])]),t._v(" "),e("div",{staticClass:"item"},[t._v("\n        发票抬头\n        "),e("span",{staticStyle:{color:"#ccc"}},[t._v("不支持开发票")])])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"evaluateitem"},[e("div",{staticClass:"left-content"},[e("img",{attrs:{src:t.image_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right-content"},[e("div",{staticClass:"top-content"},[e("div",{staticClass:"user-date-box"},[e("span",{staticClass:"user-name"},[t._v(t._s(t.evaluate.content.username))]),e("span",{staticClass:"evaluate-date"},[t._v(t._s(t.evaluate.content.rated_at))])]),t._v(" "),e("div",{staticClass:"star-time-box"},[e("v-star",{attrs:{score:t.evaluate.content.rating_star,size:24}}),e("span",{staticClass:"spend-time"},[t._v(t._s(t.evaluate.content.time_spent_desc))])],1)]),t._v(" "),e("div",{staticClass:"center-content"},[t._v("\n      "+t._s(t.evaluate.content.rating_text)+"\n    ")]),t._v(" "),e("div",{staticClass:"bottom-content"},t._l(t.evaluate.content.item_ratings,function(s){return e("span",{staticClass:"goods-label"},[t._v(t._s(s.food_name))])}))])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"login-password"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show,right_text:t.topbar.right_text},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"login-content",staticStyle:{"padding-top":"55px"}},[e("div",{staticClass:"mobile-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phonenumber,expression:"phonenumber"}],attrs:{type:"text",placeholder:"手机号/邮箱/用户名"},domProps:{value:t.phonenumber},on:{input:function(s){s.target.composing||(t.phonenumber=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"password"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),e("span",{staticClass:"iconfont icon-yanjing",class:{show:t.is_show_password},on:{click:t.toggleType}})]),t._v(" "),e("div",{staticStyle:{width:"100%",padding:"10px","box-sizing":"border-box"}},[e("button",{staticClass:"login-btn",attrs:{type:"button"},on:{click:t.login}},[t._v("登录")])])])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{staticClass:"goods-content"},[e("div",{ref:"menuWrapper",staticClass:"goods-left-side"},[e("ul",{staticClass:"goods-left-side-list"},t._l(t.goods,function(s,a){return e("li",{staticClass:"goods-left-side-list-item",class:{on:a==t.currentIndex},on:{click:function(s){t.selectMenu(a,s)}}},[e("span",{staticClass:"text"},[s.icon_url?e("img",{staticClass:"icon",attrs:{src:s.icon_url}}):t._e(),t._v(t._s(s.name))])])}))]),t._v(" "),e("div",{ref:"foodsWrapper",staticClass:"goods-right-content"},[e("ul",t._l(t.goods,function(s){return e("li",{ref:"foodList",refInFor:!0},[e("h2",{staticClass:"goods-item-list-title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",{staticClass:"goods-item-list-content"},t._l(s.foods,function(s){return e("li",[e("div",{staticClass:"item-icon"},[e("img",{attrs:{src:s.image_path,alt:""}})]),t._v(" "),e("div",{staticClass:"item-description"},[e("h3",{staticClass:"item-title"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"item-name"},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"sell-number"},[e("span",{},[t._v("月售"+t._s(s.month_sales)+"份")]),t._v(" "),s.satisfy_rate>0?e("span",{staticClass:"good-evaluation-rate"},[t._v("好评率"+t._s(s.satisfy_rate)+"%")]):t._e()]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[e("i",[t._v("￥")]),t._v(t._s(s.price))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:s.original_price,expression:"food.original_price"}],staticClass:"old"},[e("i",[t._v("￥")]),t._v(t._s(s.original_price))]),t._v(" "),e("div",{staticClass:"cartcontrol-wrap",staticStyle:{display:"inline-block","vertical-align":"top",float:"right"}},[e("v-cartcontrol",{attrs:{food:s}})],1)])])])}))])}))])]),t._v(" "),e("v-shopcart",{attrs:{restaurant_id:t.$route.params.id,selectFoods:t.selectFoods}})],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header-top-bar"},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.is_arrow_show,expression:"is_arrow_show"}],staticClass:"iconfont icon-arrow",on:{click:t.back}}),t._v("\n "+t._s(t.title)+"\n "),e("span",{staticClass:"right-text",on:{click:t.switchLoginModel}},[t._v(t._s(t.right_text))])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"order"},[e("v-topbar",{attrs:{title:t.topbar.title}}),t._v(" "),t.is_login?e("div",{staticClass:"order-content"},[t.order_list.length<=0?e("div",{staticClass:"no-order"}):e("div",t._l(t.order_list,function(t){return e("order-list-item",{attrs:{order:t}})}))]):e("div",{staticClass:"loginout-content"},[e("div",{staticClass:"text"},[t._v("登录后查看外卖订单")]),t._v(" "),e("div",{staticClass:"login-now",on:{click:t.login}},[t._v("立即登录")])]),t._v(" "),e("v-footer")],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"shopcart-content",on:{click:t.toggleList}},[e("div",{staticClass:"shopcart-totalprice",class:{"highlight-price":t.total_count>0}},[e("span",{staticClass:"iconfont icon-shopcart",class:{"highlight-cart":t.total_count>0}},[t.total_count?e("i",{staticClass:"food-total-count"},[t._v(t._s(t.total_count))]):t._e()]),t._v("￥"+t._s(t.total_price))]),t._v(" "),e("div",{staticClass:"shopcart-send-money"},[t._v(" 配送费"+t._s(t.restaurant_info.delivery_fee)+"元")]),t._v(" "),e("div",{staticClass:"littleprice",class:{cansend:t.total_price>=t.restaurant_info.minimum_order_amount},on:{click:t.settlement}},[t._v(t._s(t.pay_description))])]),t._v(" "),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list"},[e("div",{staticClass:"list-title"},[t._v("\n        购物车\n        "),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("div",{ref:"listContent",staticClass:"shopcart-list-box"},[e("ul",t._l(t.selectFoods,function(s){return e("li",{staticClass:"shopcart-list-item"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"price-icon"},[t._v("￥")]),t._v(t._s(s.price))]),t._v(" "),e("div",{staticClass:"cartcontrol-box"},[e("v-cartcontrol",{attrs:{food:s}})],1)])}))])])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"mask",on:{click:t.hideList}})])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"seller"},[e("div",{staticClass:"seller-box"},[e("div",{staticClass:"seller-top"},[e("div",{staticClass:"seller-name"},[t._v("\n        "+t._s(t.restaurant_info.name)+"\n      ")]),t._v(" "),e("div",{staticClass:"star-sell-num"},[e("v-star",{attrs:{score:t.restaurant_info.rating,size:t.star.size}}),e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.restaurant_info.recent_order_num)+"单")])],1),t._v(" "),e("div",{staticClass:"sell-detail"},[e("div",{staticClass:"can-send"},[e("span",[t._v("起送价")]),t._v(" "),e("p",[t._v(t._s(t.restaurant_info.minimum_order_amount)),e("span",{staticClass:"small-font"},[t._v("元")])])]),t._v(" "),e("div",{staticClass:"sell-send"},[e("span",[t._v("商家配送")]),t._v(" "),e("p",[t._v(t._s(t.restaurant_info.delivery_fee)),e("span",{staticClass:"small-font"},[t._v("元")])])]),t._v(" "),e("div",{staticClass:"send-time"},[e("span",[t._v("平均配送时间")]),t._v(" "),e("p",[t._v(t._s(t.restaurant_info.order_lead_time)),e("span",{staticClass:"small-font"},[t._v("分钟")])])])])]),t._v(" "),e("div",{staticClass:"notice-activity"},[e("h2",{staticClass:"title"},[t._v("公告与活动")]),t._v(" "),e("p",[t._v(t._s(t.restaurant_info.promotion_info?t.restaurant_info.promotion_info:"欢迎光临"+t.restaurant_info.name))]),t._v(" "),e("ul",t._l(t.restaurant_info.activities,function(s){return e("li",[e("span",{staticClass:"activity-item"},[e("span",{staticClass:"icon",staticStyle:{color:"#fff","margin-right":"5px","font-size":"10px",padding:"2px","border-radius":"2px","text-align":"center"},style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(t._s(s.description))])])}))]),t._v(" "),e("div",{staticClass:"seller-infomation"},[e("h2",{staticClass:"title"},[t._v("商家信息")]),t._v(" "),e("ul",t._l(t.restaurant_info.supports,function(s){return e("li",[e("span",{staticClass:"activity-item"},[e("span",{staticClass:"icon",staticStyle:{color:"#fff","margin-right":"5px","font-size":"10px",padding:"2px","border-radius":"2px","text-align":"center"},style:{backgroundColor:"#"+s.icon_color}},[t._v(t._s(s.icon_name))]),t._v(t._s(s.description))])])}))])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search"},[e("v-topbar",{attrs:{title:t.topbar.title,is_arrow_show:t.topbar.is_arrow_show},on:{back:t.topBack}}),t._v(" "),e("div",{staticClass:"search_content",staticStyle:{"padding-top":"44px"}},[e("div",{staticClass:"search-box"},[e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.search_text,expression:"search_text"}],attrs:{type:"text",placeholder:"搜索商家、商品名称"},domProps:{value:t.search_text},on:{input:function(s){s.target.composing||(t.search_text=s.target.value)}}}),e("span",{staticClass:"iconfont icon-search"})]),t._v(" "),e("div",{staticClass:"search-main"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.search_history.length>0&&0==t.search_text.length,expression:"search_history.length > 0 && search_text.length == 0"}],staticClass:"search-history"},[e("h3",{staticClass:"title"},[t._v("历史搜索"),e("span",{staticClass:"iconfont icon-shanchu",on:{click:t.deleteHistory}})]),t._v(" "),e("div",{staticClass:"search-history-content"},t._l(t.search_history,function(s,a){return e("span",{staticClass:"label",class:{active:0==a}},[t._v(t._s(s))])}))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.search_text.length>0,expression:"search_text.length > 0"}],staticClass:"search-result"},[t._m(0),t._v(" "),t.search_data.length>0?e("div",{staticClass:"list-content"},t._l(t.search_data,function(s){return e("v-goodlistitem",{key:s.id,attrs:{restaurant_info:s},on:{go:t.goShopPage}})})):e("div",{staticClass:"empty"},[e("div",[t._v("没有找到相应的餐厅，您可以切换地址试一试")])])])])])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top-select"},[e("div",{staticClass:"delicious"},[t._v("美食")]),t._v(" "),e("div",{staticClass:"sort"},[t._v("智能排序")]),t._v(" "),e("div",{staticClass:"filter"},[t._v("筛选条件")])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"cart-decrease",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}},[e("span",{staticClass:"iconfont icon-jian inner"})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),t._v(" "),e("div",{staticClass:"cart-add",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.addCart(s)}}},[e("span",{staticClass:"iconfont icon-jia"})])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"personcenter"},[e("v-topbar",{attrs:{title:t.topbar.title}}),t._v(" "),e("div",{staticClass:"account"},[e("div",{staticClass:"person-icon"},[e("img",{attrs:{src:t.person_icon,alt:""}})]),t._v(" "),e("div",{staticClass:"login-box",on:{click:t.login}},[e("div",{staticClass:"login-signin"},[t._v(t._s(t.user_info.name||"登录/注册"))]),t._v(" "),e("div",{staticClass:"login-description"},[t._v(t._s(t.phonenumber||"登录后享受更多特权"))])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"container"},[e("ul",{staticClass:"details"},[t.is_login?e("li",{staticClass:"details-item",on:{click:t.manageAddress}},[e("i",{staticClass:"iconfont icon-dizhi",staticStyle:{color:"rgb(0,150,255)"}}),t._v("收货地址管理"),e("i",{staticClass:"iconfont icon-arrow"})]):t._e(),t._v(" "),t.is_login?e("li",{staticClass:"details-item"},[e("i",{staticClass:"iconfont icon-daijinquan",staticStyle:{color:"rgb(255, 153, 0)"}}),t._v("商家代金券"),e("i",{staticClass:"iconfont icon-arrow"})]):t._e(),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t.is_login?e("li",{staticClass:"details-item"},[e("i",{staticClass:"iconfont icon-kefudianhua",staticStyle:{color:"rgb(0, 150, 255)"}}),t._v("客服电话"),e("i",{staticClass:"iconfont icon-arrow"})]):t._e()])]),t._v(" "),e("v-footer")],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"person-info"},[e("div",{staticClass:"balance"},[e("span",{staticClass:"iconfont  icon-balance"}),t._v("余额")]),t._v(" "),e("div",{staticClass:"discount"},[e("span",{staticClass:"iconfont  icon-youhui"}),t._v("优惠")]),t._v(" "),e("div",{staticClass:"integral"},[e("span",{staticClass:"iconfont  icon-jifen"}),t._v("积分")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"details-item"},[e("i",{staticClass:"iconfont icon-yijianfankui",staticStyle:{color:"rgb(0, 255, 222)"}}),t._v("意见反馈"),e("i",{staticClass:"iconfont icon-arrow"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"details-item"},[e("i",{staticClass:"iconfont icon-changjianwenti",staticStyle:{color:"rgb(255, 0, 0)"}}),t._v("常见问题"),e("i",{staticClass:"iconfont icon-arrow"})])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"index"},[e("div",{staticClass:"index-content"},[e("div",[e("header",{staticClass:"index-header"},[e("div",{staticClass:"top-banner"},[e("div",{staticClass:"address-box"},[e("span",{staticClass:"iconfont icon-dizhi"}),t._v(t._s(t.address))]),t._v(" "),e("div",{staticClass:"weather"},[e("span",{staticClass:"temperature"},[t._v(t._s(t.weather.temperature)+"°")]),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.weather.description))]),t._v(" "),e("img",{staticClass:"weather-icon",attrs:{src:t.weather.image_path,alt:""}})]),t._v(" "),e("div",{staticClass:"search-box",on:{click:t.search}},[e("input",{attrs:{type:"text",placeholder:"搜索商家、商品",readonly:""}})])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"content"},[t._m(1),t._v(" "),e("div",t._l(t.goods_data,function(s){return e("good-list-item",{key:s.id,attrs:{restaurant_info:s},on:{go:t.goShopPage}})}))]),t._v(" "),e("div",{staticClass:"more"},[t._v("\n          "+t._s(t.more_text)+"\n      ")])])]),t._v(" "),e("v-footer")],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"nav-bar"},[e("ul",{staticClass:"nav-bar-list"},[e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 美食\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 超市\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 鲜果购\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 甜点饮品\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 正餐优选\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 小迪专送\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 能量西餐\n            ")]),t._v(" "),e("li",{staticClass:"nav-bar-list-item"},[e("img",{staticClass:"item-pic",attrs:{src:"/static/images/meishi.png",alt:"美食图片"}}),t._v(" 精选小吃\n            ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("h2",{staticClass:"content-title"},[e("p",[t._v("附近商家")])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star",class:t.starType},t._l(t.item_classes,function(t){return e("span",{staticClass:"star-item",class:t})}))},staticRenderFns:[]}},,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"app"}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),i=e(4),n=e.n(i),o=e(2),r=e.n(o),c=e(8),l=e.n(c);s.default={name:"addaddress",data:function(){return{topbar:{title:"新增地址",is_arrow_show:!0},address:{_id:"",user_phonenumber:"",user_id:"",sex:"",name:"",phonenumber:"",label:"",address:"",detail_address:"",door_number:""}}},methods:{topBack:function(){a.a.go(-1)},submitAddress:function(){var t=l.a.stringify(this.address);r.a.post("/user/setaddress",t).then(function(t){0==t.data.success&&a.a.push("/sendaddress"),-1==t.data.success&&alert("地址设置失败")})}},components:{"v-topbar":n.a},created:function(){var t=this;sessionStorage.getItem("current_address")&&(t.address=JSON.parse(sessionStorage.getItem("current_address")))}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),i=e(25),n=e.n(i),o=e(15),r=e.n(o),c=e(5),l=e.n(c),d=e(2),u=e.n(d);s.default={name:"index",data:function(){return{address:"地址获取中...",goods_data:[],weather:{},offset:1,scroll:"",has_data:!0}},components:{"good-list-item":n.a,"v-footer":r.a},methods:{goShopPage:function(t){a.a.push("/shoppage/"+t+"/goods")},search:function(){a.a.push("/search")},loadData:function(){var t=this;u.a.get("/restaurant/",{params:{longitude:120.207372,latitude:30.26409,offset:10*t.offset,limit:10}}).then(function(s){t.goods_data=t.goods_data.concat(s.data),t.$store.commit("setRestaurant",s.data),t.offset+=1,s.data.length<10&&(t.has_data=!1)})}},computed:{more_text:function(){return this.has_data?"加载中...":"更多商家正在接入中"}},updated:function(){this.scroll&&this.scroll.refresh()},created:function(){var t=this;u.a.get("/weather/",{params:{longitude:120.207372,latitude:30.26409}}).then(function(s){t.weather=s.data}),u.a.get("/restaurant/",{params:{longitude:120.207372,latitude:30.26409,offset:0,limit:10}}).then(function(s){t.goods_data=s.data,t.$store.commit("setRestaurant",s.data),t.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new l.a(document.querySelector(".index-content"),{click:!0,probeType:3}),t.scroll.on("touchend",function(){this.y<this.maxScrollY&&t.has_data&&t.loadData()})})})}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(4),i=e.n(a),n=e(59),o=e.n(n),r=e(15),c=e.n(r),l=e(1),d=e(2),u=e.n(d);s.default={name:"order",data:function(){return{topbar:{title:"订单"},is_login:!1,order_list:[]}},components:{"v-topbar":i.a,"order-list-item":o.a,"v-footer":c.a},created:function(){var t=this;u.a.get("/orderlist/",{params:{user_phonenumber:"18996231874"}}).then(function(s){0==s.data.success?(s.data.data.length>0&&(t.order_list=s.data.data),t.is_login=!0):t.is_login=!1})},methods:{login:function(){l.a.push("/user/loginphonenumber")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(4),i=e.n(a),n=e(15),o=e.n(n),r=e(1),c=e(2),l=e.n(c);s.default={name:"personcenter",data:function(){return{topbar:{title:"个人中心"},user_info:{},is_login:!1}},methods:{login:function(){this.is_login?r.a.push("/user/accountsetting"):r.a.push("/user/loginphonenumber")},manageAddress:function(){r.a.push("/sendaddress")}},components:{"v-topbar":i.a,"v-footer":o.a},created:function(){var t=this;l.a.get("/user/userinfo").then(function(s){0==s.data.success?(t.user_info=s.data.data,t.is_login=!0):-1==s.data.success&&(t.is_login=!1)})},computed:{person_icon:function(){return this.user_info.avatar||"http://xiaodiwaimai.oss-cn-shenzhen.aliyuncs.com/default_person_icon.png"},phonenumber:function(){return this.user_info.phonenumber?this.user_info.phonenumber.substr(0,3)+"****"+this.user_info.phonenumber.substr(7,4):""}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(158),i=e.n(a),n=e(1),o=e(4),r=e.n(o);s.default={name:"comfirmorder",data:function(){return{topbar:{title:"确认订单",is_arrow_show:!0,time:"",total_price:"",order:[],send_address:{}}}},components:{"v-topbar":r.a},methods:{topBack:function(){n.a.go(-1)},selectAddress:function(){n.a.push("/sendaddress")},submitOrder:function(){n.a.push("/payonline/"+this.$route.params.id)},caculateTime:function(){return i()((new Date).getMinutes())<30?((new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours())+":"+(i()((new Date).getMinutes())+30):((new Date).getHours()+1<10?"0"+(new Date).getHours()+1:(new Date).getHours()+1)+":"+(i()((new Date).getMinutes())-30)%60}},computed:{restaurant_info:function(){return this.$store.getters.getRestaurantById},total_price:function(){var t=0;return this.order.forEach(function(s){s.count&&(t+=s.count*s.price)}),(t+this.restaurant_info.delivery_fee+4).toFixed(2)}},created:function(){var t=this.$route.params.id;this.$store.commit("setId",t),this.time=this.caculateTime(),this.order=JSON.parse(localStorage.getItem(t)),this.send_address=JSON.parse(sessionStorage.getItem("selectAddress"))||{},console.log(this.send_address)}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(7),i=e.n(a);s.default={name:"good-list-item",data:function(){return{is_show_activities:!1}},props:{restaurant_info:{type:Object}},methods:{routerTo:function(){this.$emit("go",this.restaurant_info.id)},showActivites:function(){this.is_show_activities=!this.is_show_activities}},components:{"v-star":i.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1);s.default={name:"order-list-item",data:function(){return{}},props:{order:{type:Object}},computed:{status_text:function(){switch(this.order.status){case 1:return"正在配送中";case-1:return"已取消"}}},methods:{againOne:function(){a.a.push("/shoppage/"+this.order.restaurant_id+"/goods")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(18),i=e.n(a),n=e(1),o=e(4),r=e.n(o),c=e(2),l=e.n(c),d=e(8),u=e.n(d);s.default={name:"payonline",data:function(){return{topbar:{title:"在线支付",is_arrow_show:!0},show_more_method:!1,method:"zhifubao",order:[],time:"15:00"}},methods:{topBack:function(){n.a.go(-1)},showMore:function(){this.show_more_method=!this.show_more_method},alipay:function(){this.method="zhifubao"},weixin:function(){this.method="weixin"},yinlian:function(){this.method="yinlian"},comfirmPay:function(){switch(this.method){case"zhifubao":alert("使用支付宝支付");break;case"weixin":alert("使用微信支付");break;case"yinlian":alert("使用银联支付")}var t=u.a.stringify({restaurant_id:this.$route.params.id,restaurant_image_path:this.restaurant_info.image_path,shop_name:this.restaurant_info.name,status:1,good_list:i()(this.order),user_phonenumber:"18996231874"});l.a.post("/comfirmorder/",t).then(function(t){0==t.data.success?n.a.push("/order"):-1==t.data.success?alert("订单提交失败"):alert("数据库异常")})}},computed:{restaurant_info:function(){return this.$store.getters.getRestaurantById},total_price:function(){var t=0;return this.order.forEach(function(s){s.count&&(t+=s.count*s.price)}),(t+this.restaurant_info.delivery_fee+4).toFixed(2)}},components:{"v-topbar":r.a},created:function(){var t=this.$route.params.id;this.$store.commit("setId",t),this.order=JSON.parse(localStorage.getItem(t))}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),i=e(2),n=(e.n(i),e(4)),o=e.n(n),r=e(25),c=e.n(r),l=e(5);e.n(l);s.default={name:"search",data:function(){return{search_data:[],topbar:{title:"小迪外卖",is_arrow_show:!0},search_text:"",search_history:["早餐","鸭脖"]}},components:{"v-topbar":o.a,"v-goodlistitem":c.a},methods:{topBack:function(){a.a.go(-1)},goShopPage:function(t){a.a.push("/shoppage/"+t+"/goods")},deleteHistory:function(){this.search_history=[]}},watch:{search_text:function(t,s){console.log(1)}},directives:{focus:{inserted:function(t){t.focus()}}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(161),i=e.n(a),n=e(18),o=e.n(n),r=e(1),c=e(4),l=e.n(c),d=(e(189),e(2)),u=e.n(d),_=e(8);e.n(_);s.default={name:"sendaddress",data:function(){return{topbar:{title:"收货地址",is_arrow_show:!0},sendaddress:[],is_login:!0,empty:!0,is_click:!1,restaurant_id:""}},methods:i()({topBack:function(){r.a.go(-1)},addAddress:function(){r.a.push("/addaddress")},modify:function(t){var s={name:this.sendaddress[t].name,sex:this.sendaddress[t].sex,phonenumber:this.sendaddress[t].phonenumber,address:this.sendaddress[t].address,detail_address:this.sendaddress[t].detail_address,door_number:this.sendaddress[t].door_number,label:this.sendaddress[t].label,_id:this.sendaddress[t]._id,user_phonenumber:"18996231872"};sessionStorage.setItem("current_address",o()(s)),r.a.push("/addaddress")},select:function(t){this.is_click&&(r.a.push("/comfirmorder/"+this.restaurant_id),sessionStorage.setItem("selectAddress",o()(t)))}},"addAddress",function(){r.a.push("/addaddress")}),beforeRouteEnter:function(t,s,e){s.path.indexOf("comfirmorder")>-1?(sessionStorage.setItem("sign",1),e(function(t){t.restaurant_id=s.path.split("/")[s.path.split("/").length-1]})):s.path.indexOf("personcenter")>-1&&(sessionStorage.setItem("sign",2),e()),e()},components:{"v-topbar":l.a},created:function(){var t=this;1==sessionStorage.getItem("sign")?this.is_click=!0:this.is_click=!1,u.a.get("/user/getaddress/",{params:{phonenumber:"18996231872"}}).then(function(s){0==s.data.success?(t.sendaddress=s.data.data,t.empty=!1):-1==s.data.success?t.empty=!0:-2==s.data.success&&(t.is_login=!1)})}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(7),i=e.n(a);s.default={name:"evaluateitem",components:{"v-star":i.a},props:{evaluate:Object},computed:{image_path:function(){return this.evaluate.content.avatar||"/static/images/default_icon.png"}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={props:["score","size"],computed:{item_classes:function(){for(var t=[],s=Math.floor(this.score),e=0;e<s;e++)t.push("on");var a=this.score-s;for(a>=.5?t.push("on"):0==a?t.push("off"):t.push("half");e<4;)t.push("off"),e++;return t},starType:function(){return"star-"+this.size}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"indexfooter",data:function(){return{}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"header-top-bar",data:function(){return{}},props:{title:{type:String},is_arrow_show:{type:Boolean,default:!1},right_text:{type:String,default:""}},methods:{back:function(){this.$emit("back")},switchLoginModel:function(){this.$emit("switchLoginModel")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(7),i=e.n(a),n=e(27),o=e.n(n),r=e(1),c=e(2);e.n(c);s.default={name:"shoppage",data:function(){return{show_detail:!1}},methods:{showDetail:function(){this.show_detail=!0},hideDetail:function(){this.show_detail=!1},backIconClick:function(){r.a.push("/index")}},computed:{restaurant_info:function(){return this.$store.getters.getRestaurantById}},components:{"v-star":i.a,"v-goods":o.a},created:function(){this.$store.commit("setId",this.$route.params.id)},watch:{$route:function(t,s){s.path.indexOf("index")>-1&&this.$store.commit("setId",this.$route.params.id)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6);s.default={props:{food:{type:Object}},methods:{decreaseCart:function(){event._constructed&&this.food.count&&this.food.count--},addCart:function(){event._constructed&&(this.food.count?this.food.count++:a.a.set(this.food,"count",1))}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(7),i=e.n(a),n=e(63),o=e.n(n),r=e(5),c=e.n(r),l=e(2),d=e.n(l);s.default={name:"evaluate",data:function(){return{top_score:{},rating:[],rating_label:{},offset:0,scroll:""}},components:{"v-star":i.a,"v-evaluateitem":o.a},created:function(){var t=this;d.a.all([this.getScore(),this.getRatingCount(),this.getRating()]).then(d.a.spread(function(s,e,a){t.top_score=s.data,t.rating_label=e.data,t.rating=a.data,t.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new c.a(document.querySelector(".evaluate"),{click:!0}),t.scroll.on("touchend",function(){this.y<this.maxScrollY&&t.loadData()})})}))},updated:function(){this.scroll&&this.scroll.refresh()},methods:{getScore:function(){var t=this;return d.a.get("/rating/score/",{params:{restaurant_id:t.$route.params.id}})},getRatingCount:function(){var t=this;return d.a.get("/rating/ratingcount",{params:{restaurant_id:t.$route.params.id}})},getRating:function(){var t=this;return d.a.get("/rating/",{params:{restaurant_id:t.$route.params.id,offset:0,limit:10}})},loadData:function(){var t=this;d.a.get("/rating/",{params:{restaurant_id:t.$route.params.id,offset:10*this.offset,limit:10}}).then(function(s){t.rating=t.rating.concat(s.data),t.offset++})}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(5),i=e.n(a),n=e(67),o=e.n(n),r=e(26),c=e.n(r),l=e(2),d=e.n(l);s.default={name:"goods",data:function(){return{goods:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}},methods:{selectMenu:function(t,s){if(s._constructed){var e=this.$refs.foodList,a=e[t];this.foodsScroll.scrollToElement(a,300)}},_initScroll:function(){var t=this;this.menuScroll=new i.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new i.a(this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},_calculateHeight:function(){var t=this.$refs.foodList,s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,this.listHeight.push(s)}}},components:{"v-shopcart":o.a,"v-cartcontrol":c.a},created:function(){var t=this;d.a.get("/menu/",{params:{restaurant_id:this.$route.params.id}}).then(function(s){t.goods=s.data.content,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})}).catch(function(t){console.log("请求出错了")})}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(7),i=e.n(a),n=e(5),o=e.n(n),r=e(2);e.n(r);s.default={name:"seller",data:function(){return{star:{size:"36"}}},components:{"v-star":i.a},computed:{restaurant_info:function(){return this.$store.getters.getRestaurantById}},created:function(){this.$store.commit("setId",this.$route.params.id),this.$nextTick(function(){new o.a(document.querySelector(".seller"),{click:!0})})}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(18),i=e.n(a),n=e(5),o=e.n(n),r=e(26),c=e.n(r),l=e(1),d=e(2),u=e.n(d);s.default={name:"shopcart",data:function(){return{fold:!0}},props:{selectFoods:{type:Array},restaurant_id:{type:String}},components:{"v-cartcontrol":c.a},methods:{empty:function(){this.selectFoods.forEach(function(t){t.count=0})},toggleList:function(){this.total_count&&(this.fold=!this.fold)},hideList:function(){this.fold=!0},settlement:function(t){var s=this;this.total_price>=this.restaurant_info.minimum_order_amount&&(t.stopPropagation(),localStorage.setItem(this.restaurant_id,i()(this.selectFoods)),u.a.get("/logininfo/").then(function(t){0==t.data.success?l.a.push("/comfirmorder/"+s.restaurant_id):-1==t.data.success&&l.a.push("/user/loginphonenumber")}).catch(function(t){console.log(t)}))}},created:function(){this.$store.commit("setId",this.restaurant_id)},computed:{restaurant_info:function(){return this.$store.getters.getRestaurantById},total_price:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t.toFixed(2)},total_count:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},pay_description:function(){if(0==this.total_price)return"￥"+this.restaurant_info.minimum_order_amount+"元起送";if(this.total_price<this.restaurant_info.minimum_order_amount){return"还差"+(this.restaurant_info.minimum_order_amount-this.total_price)+"元起送"}return"去结算"},listShow:function(){var t=this;if(!this.total_count)return this.fold=!0,!1;var s=!this.fold;return s&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new o.a(t.$refs.listContent,{click:!0})}),s}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),i=e(4),n=e.n(i);s.default={name:"accountsetting",data:function(){return{topbar:{title:"账户设置",is_arrow_show:!0}}},components:{"v-topbar":n.a},methods:{topBack:function(){a.a.go(-1)},setPassword:function(){a.a.push("/user/setpassword")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(4),i=e.n(a),n=e(1),o=e(2),r=e.n(o),c=e(8),l=e.n(c);s.default={name:"loginphonenumber",data:function(){return{topbar:{title:"密码登录",is_arrow_show:!0},phonenumber:"",password:"",is_show_password:!1}},components:{"v-topbar":i.a},methods:{topBack:function(){n.a.go(-1)},login:function(){var t=this.phonenumber,s=this.password,e=l.a.stringify({phonenumber:t,password:s});r.a.post("/user/signinpassword",e).then(function(t){0==t.data.success?n.a.go(-2):-2==t.data.success?n.a.replace("/user/loginphonenumber"):alert("账号或密码错误")})},toggleType:function(){this.is_show_password=!this.is_show_password,this.is_show_password?document.querySelector(".password input").type="text":document.querySelector(".password input").type="password"}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(4),i=e.n(a),n=e(1),o=e(8),r=e.n(o),c=e(2),l=e.n(c);s.default={name:"loginphonenumber",data:function(){return{topbar:{title:"手机登录",is_arrow_show:!0,right_text:"密码登录"},phonenumber:"",code:"",code_text:"发送验证码",code_btn_can_click:!1}},components:{"v-topbar":i.a},methods:{topBack:function(){n.a.go(-1)},maxLength:function(){this.phonenumber.length>=11&&(this.phonenumber=this.phonenumber.slice(0,11),this.code_btn_can_click=!0)},codeMaxLength:function(){this.code.length>6&&(this.code=this.code.slice(0,6))},sendCode:function(){if(this.code_btn_can_click)if(this.checkPhoneNumber()){var t=this,s=60;this.code_btn_can_click=!1,this.code_text="已发送（"+s+"s）";var e=setInterval(function(){s--,t.code_text="已发送（"+s+"s）",0==s&&(clearInterval(e),t.code_text="重新发送",t.code_btn_can_click=!0)},1e3)}else alert("手机号格式有误，请检查！")},userService:function(){alert("用户协议")},checkPhoneNumber:function(){return!!/^1[3|4|5|7|8][0-9]{9}$/.test(this.phonenumber)},login:function(){var t=this.phonenumber,s=this.code,e=r.a.stringify({phonenumber:t,code:s});l.a.post("/user/signinphonenumber",e).then(function(t){0==t.data.success?n.a.go(-1):alert("失败")})},goPasswordModel:function(){n.a.replace("/user/loginpassword")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),i=e(4),n=e.n(i);s.default={name:"setpassword",data:function(){return{topbar:{title:"设置登录密码",is_arrow_show:!0},password:"",is_show_password:!1}},components:{"v-topbar":n.a},methods:{topBack:function(){a.a.go(-1)},confirm:function(){this.password.length>=6&&this.password.length<=20||alert("密码必须在6-20位之间")},toggleType:function(){this.is_show_password=!this.is_show_password,this.is_show_password?document.querySelector(".password input").type="text":document.querySelector(".password input").type="password"}}}},function(t,s,e){"use strict";var a=e(6);new a.a},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6),i=e(19),n=e.n(i),o=e(1),r=e(35);a.a.config.productionTip=!1,new a.a({el:"#app",router:o.a,store:r.a,template:"<App/>",components:{App:n.a}})}],[190]);
//# sourceMappingURL=app.60b4c7fd586068e285a3.js.map